<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>拖拽</title>
  <style>
   #box{
		width:200px;
		height:200px;
		background:red;
		position:fixed;
		top:0;
		left:0;
		cursor:move;
   }
  </style>
 </head>
 <body>
 	<!-- 拖拽必须定位 -->
	<div id='box'>
		
	</div>
	<script>
	
		window.onload=function(){
			var oBox = document.getElementById('box');
			oBox.onmousedown=function(ev){
				var oEvent = ev||event;
				var disX = oEvent.clientX-oBox.offsetLeft;
				var disY = oEvent.clientY-oBox.offsetTop;
				document.onmousemove=function(ev){
					var oEvent = ev||event;
					var l = oEvent.clientX-disX;
					var t = oEvent.clientY-disY;
										
					<!-- 拖拽在窗口之内 -->
					if(l<0){
						l=0;
						}
					if(l>document.documentElement.clientWidth-oBox.offsetWidth){
					l=document.documentElement.clientWidth-oBox.offsetWidth;
					}
				
					if(t<0){
						t=0;	
					}
				
					if(t>document.documentElement.clientHeight-oBox.offsetHeight){
						t=document.documentElement.clientHeight-oBox.offsetHeight;
					}
					oBox.style.left=l+'px';
					oBox.style.top=t+'px';

				}
				document.onmouseup=function(){
					document.onmousemove=null;
					document.onmouseup=null;
				}
					return false;

			}
		}
	</script>
 </body>
</html>
